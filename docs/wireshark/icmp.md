# Wireshark实验：探究ICMP，Ping和Traceroute (Page282)

1. 您的主机的 IP 地址是多少？ 目标主机的 IP 地址是多少？

我的：10.10.41.160

目标：143.89.12.134

2. 为什么 ICMP 数据包没有源端口号和目的端口号？

因为是网络层协议，它不需要传输层 TCP 和 UDP 承载，直接使用 IP 报承载

3. 查看任意的请求 ICMP 数据包， ICMP 类型和代码是什么？ 该 ICMP 数据包还有哪些其他字段？ 校验和，序列号和标识符字段有多少字节？

type = 8, code = 0, 4 个字节

4. 查看任意的响应 ICMP 数据包， ICMP 类型和代码是什么？ 该 ICMP 数据包还有哪些其他字段？ 校验和，序列号和标识符字段有多少字节？

type = 0, code = 0， 4 个字节

5. 您的主机的 IP 地址是多少？ 目标目标主机的 IP 地址是多少？

我的：10.10.41.160

目标：128.93.162.83

6. 如果 ICMP 发送了 UDP 数据包（如在 Unix / Linux 中），那么探测数据包的IP 协议号仍然是 01 吗？ 如果没有，它会是什么？

17

7. 检查屏幕截图中的 ICMP 响应数据包。 这与本实验的前半部分中的 ICMP ping 查询数据包不同吗？ 如果不同，请解释为什么？

类型和序号不同与前半部分，现在响应的数据包 TYPE = 8

8. 检查屏幕截图中的 ICMP 错误数据包。 它具有比 ICMP 响应数据包更多的字段。 这个数据包含哪些内容？

多了 ICMP 请求数据包的内容

9. 检查源主机收到的最后三个 ICMP 数据包。 这些数据包与 ICMP 错误数据包有何不同？ 他们为什么不同？

最后三个 ICMP 数据包是目标主机发送的，因为路由查询是是使用逐渐递增 TLL 

10. 在 tracert 跟踪测量中，是否有一个连接的延迟比其他连接长得多？ 请参阅图 4 中的屏幕截图，是否有连接的延迟明显长于其他连接？ 根据路由器名称，您能猜出这个连接末端的两个路由器的位置吗？

 15   268 ms   278 ms   272 ms  223.118.18.69

11. 对于一个编程任务，您可能创建了一个 UDP 客户端 ping 程序。 与标准 ping 程序
不同，此 ping 程序发送 UDP 探测包而不是 ICMP 探测包。 使用客户端程序将具有
异常目标端口号的 UDP 数据包发送到某个活动主机。 同时，使用 Wireshark 捕获
目标主机的任何响应。 提供响应的 Wireshark 屏幕截图以及响应分析。